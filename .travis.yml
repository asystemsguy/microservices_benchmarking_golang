sudo: true
dist: trusty
jobs:
  include:
  - stage: build docker image
    script:
    - docker login -u="$DOCKER_USER" -p="$DOCKER_PASS"
    - docker build -t goserver .
    - docker images
    - docker tag goserver $DOCKER_USER/goserver
    - docker push $DOCKER_USER/goserver
env:
  global:
  - secure: famfhN/R9cSnhgB+lVBv5TH89h1m+mNl01s3jCrk1QFHISGilGnCrH9izPpooXLGuzkCD4pCKhnem3gQsPsEQP4uyI7cCyr0ORctcOYNbBfA+O6h3mPT0cKH574sF/sV7BcYolNp7WBz8zwArTSn16oYHLWEdZ5vrzXtZbk4tg0ROgTxJ4eDx1nj7PUksW0DFtGqTmIFHERMM88VAMW6sD53f4/Uq37UoTa5MDCHgC7/9W9DMdcNq4WJXyRTQPSgW4ab5RXqLNfaepvhP9T+uYI5YXHS6pnAJ1reKj2KLpAk0+A6u7SfthhKeMNKSw7oPevKOaxG8dckuSGM0wJUmSsuSYogWXUnD9axG8s1IJcmCC8gzMYgHk1m7OpOiOCsmwBIINdl3IB2mpJbCqWCjtiD9844O7evQw6RatLlCTIll0hnhdN58Bf50SJ0Skr44lcfGpzsma/InK0Hh3K1J8pQciHienaPm2jNpCkdxLQ079/850kuHZHouszebvv0TqtKQIuy0OfvMhH2+Xc0MVm/5Or/S2B3nD3/MkUOzB6z18WnmFrlb7Tf6btqAvfou3+38zzYlTKnNrGUd1WOqhXxqd0djHeCyzFdRD+5pCsD7u8hqlPY1A0oHB8Jp0cZx49qYIhU46gNXkrPd5NWTFfQ8cNIwd26itz1UkqVmnQ=
  - secure: ilvMLcw2aFo1GOf60T9/NSUVNh5rAU53Ox7IOHdhQ8Lu5sfuorbeUca7jNnOkxUh7L2V2yrLMhtDzOLT0OaZzuCOgMLRbmq8MVnrHf/jtndwDctJaLAq7AGB24LGybv77D0rdxCzpL9foUuFVAZcQ1Rv/Zi64Lqt5vpiNt2ze8kd2sstByw4lEQYKUH1G37Bm7KBSDrCwHgKd66OpOek6mSXMTpaSe1YTv6jlegNVFa8fHj/49rpqMRNsMLyxz23gfFGgoLtZP4tTaqLEyArXvV8QE5GVQppjNuU/qGE+MlWKXJby/jPZrvOEniw1mRKFDbrWZBop8u97w+ADHKsXtm5pQxsxVVx3H/dSGMSN3tG5hDIn+TbSovw4S+uCCNPJjUy/B3YzwX1hRWI1W9Wej9gCOIe2O1X5EkdahrtPbWqDUJN56DE2RDly5sDAGPQIEE4bpDA9dHktfyqkprgBl3BTh6cZo7x2ayeFKBMQzHwyThGv9Juf2/ZQX/2x7i6JKRZOcZXwbG/qUxmq78eAhStxwcFLNdg4pkL56H5oERnsmo6CRYIoUmdhs6+CimEM8M3HUt72FFAIX53bEYvGynOzP04HZPO0kZKyHUsyFmeo+VSVY/T/q0hMJl5vL4dGkMuFMBkDx5GqZKv9Y4mDcxFk+9epYBSKQ9O/O3WMkM=
  - secure: Hcy+FZ1Jibu5iL+YJBRhFMjmO9pmgMq9CdwUJm0FncaGk8zOxqtW7XAfy6po6L444LAxJk6boGvarORVb/ewe8qQrmBsTvLEFTgLSEoeRGlvcWCSlqvnInfqobLetLFBxwlJ42TSP/OdFZ+a4ZXuiESxZ19rZCV6owen23q3Bk+TMWGpJtLBc6ipZZsF99G2mBA4b8gCdVBeWLTznCfKo/ZbbL6+Njnv3WfTSC/7AZeIwcYDa0cGT2WMsL6I2OsUWGNd/shp0U5I7LrBCyrC/w1nFG+9QkzpFJoMJzUgDF0vCpZXGb1Zs9+L1kmV6aDXqEAQElFsvCAstPlviuUuGUDn6zNCcG5ftht6Cu8CG1aU3hWH0A+d19+029AFFfP0riWWKTJJNlCgq2ohwZTXGvmKBdYoXFigtcD/eNUtVCGrVeCXwfAlWH5TWco0oFTVYxMOyoChcCrvihCYaXQ/z/bLSF8HmoeQxY/fmoZ2UO1pFgGT4IyU1yLNVMo4Fp26xvJVBQUmnp2CdTMNuqRqM8306lhYiMXzLOaTiaiHYwzyB1v4JTUnH+FwXGUEbKTxfYw0s7FTLZtMkTbwSHweCozSz7bLkxRYZTnm0clnuEHSyY5HflFOyijAqfV2CkQ8ptuvZA5J436aULA5+Nhz9WdGlbXQ4qnEzKIvFM/40EM=
  - secure: fIrCBUHtYa9/kgWtOXZqVsuiJ3f4qD2WjU+cQFh3RbRDQSfCKNvoPgC8ajN59wQ6EvJ46KBGHtx4F+8PD2mifL7KBPB9Pkdkn/5dWZ6Ry+MWbrz5NoSRhw2ppBM9NxbermZC8D29/PbAqPZmuntyYB5HOzEYmg5+iumpW68/kQHSdCim1x/N4BogCaSfQb8cfhyq3G9dUMkbxnf4huqq/gbjQmlzfVK1Cm70uAynvz4zgdFyG6McdVnuLZ+21D8mXyO5Bss75IGa52aXK+3GlaXBeaohYdxJY6vCvAxGMLExbWTib1fRZ9iaG7VrwCafCMYpgF1UmA8CaGUGA9+AHj4uAolwtylDrGqL5VXw+6YF2bn9dJBSJOjCoEF5pfARh4o6S9BGF+5wt+3TqZFjx0F1Fa46ClvCBUjsNNJ3Xj/bM0fpG0R7cfdAPHtRSztjR7/G1EKH8bU0xAenwBvhSDg/9LSHO+oYxvCrshASQ73IzWncgCoNbcBkZRsiUbcQGdr6iT4IqaPyFfqcg+P3o3/k0C3LVqkOXa7HrQx4tYE34msLNbPzej3dHKqeYzCAyRuZzpKOIanaIszitawIAJeUSiVhxYBfRcQkyrilIfKWqzQ+UYu/GNPk0lqeuLkQOzyP1E+V+HI6yTQ97DtuJovSl0FA03FDS7M1Xgr0FA4=
